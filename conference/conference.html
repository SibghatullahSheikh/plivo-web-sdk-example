<!DOCTYPE html>
<!-- saved from url=(0051) -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Plivo Click2Call Demo</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <link href="./assets/bootstrap-combined.min.css" rel="stylesheet">
    <link href="./assets/bubble.css" rel="stylesheet">

    <style type="text/css">
      body {
        padding-top: 20px;
        padding-bottom: 40px;
      }

      .container-narrow {
        margin: 0 auto;
        max-width: 700px;
      }
      .container-narrow > hr {
        margin: 30px 0;
      }

      #btn-container a{
        margin-top:7px;
        min-width:7px;
      }

      .btn-large {
        padding: 22px 33px;
        font-size: 44.5px;
        -webkit-border-radius: 6px;
        -moz-border-radius: 6px;
        border-radius: 6px;
      }


    </style>

    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script language="javascript" content-type="text/javascript" src="./assets/jquery.js"></script>
    <script src="./assets/bootstrap-popover.js"></script>
<script type="text/javascript" src="https://s3.amazonaws.com/plivoweb-sdk/plivo.min.js"></script>

    <script type="text/javascript">

    function webrtcNotSupportedAlert() {
        $('#txtStatus').text("");
        alert("Your browser doesn't support webrtc. You need Chrome 23 to use this demo");
    }

    function getURLParameter(name) {
      return decodeURI(
          (RegExp(name + '=' + '(.+?)(&|$)').exec(location.search)||[,null])[1]
      );
    }

    function callUI() {
    //show outbound call UI
        ringbacktone.pause();
        dialpadHide();
        $('#callcontainer').show();
        $('#status_txt').text('Ready');
        $('#make_call').text('Conference');
    }

    function callAnsweredUI() {
      ringbacktone.pause();
      $('#status_txt').text('Call Answered....');
      $('#callcontainer').hide('slow');
      dialpadShow();
    }


    function onReady() {
        console.log("onReady...");
        login();
    }

    function login() {
        Plivo.conn.login("PLIVO_ENDPOINT_USERNAME", "PASSWORD");
    }

    function logout() {
        Plivo.conn.logout();
    }

    function onLogin() {
        callUI()
    }

    function onLoginFailed() {
        $('#status_txt').text("Auth Failed");
    }

    function onCalling() {
         $('#allownotice').hide();
        console.log("onCalling");
        $('#status_txt').text('Connecting....');
        ringbacktone.play();
    }

    function onCallRemoteRinging() {
        $('#status_txt').text('Ringing..');
        ringbacktone.pause();
    }

    function onCallAnswered() {
        console.log('onCallAnswered');
        callAnsweredUI()
    }

    function onCallTerminated() {
        console.log("onCallTerminated");
        callUI()
    }

    function call() {
              if ($('#make_call').text() == "Conference") {
                  $('#status_txt').text('Calling..');
                  var r = getURLParameter("vr");
                  Plivo.conn.call(r);
                  $('#make_call').text('End');
              }
              else if($('#make_call').text() == "End") {
                  $('#status_txt').text('Ending..');
                  Plivo.conn.hangup();
                  ringbacktone.pause();
                  $('#make_call').text('Conference');
                  $('#status_txt').text('Ready');
              }
      }

      function hangup() {
              $('#status_txt').text('Hanging up..');
              Plivo.conn.hangup();
              callUI()
      }

      function dtmf(digit) {
          Plivo.conn.send_dtmf(digit);
          dtmf1.play();
      }
      function dialpadShow() {
          $('#btn-container').show();
      }

      function dialpadHide() {
          $('#btn-container').hide();
      }

      function mute() {
        Plivo.conn.mute();
        $('#linkUnmute').show('slow');
        $('#linkMute').hide('slow');
      }

      function unmute() {
        Plivo.conn.unmute();
        $('#linkUnmute').hide('slow');
        $('#linkMute').show('slow');
      }

    $(document).ready(function() {
        Plivo.onWebrtcNotSupported = webrtcNotSupportedAlert;
        Plivo.onReady = onReady;
        Plivo.onLogin = onLogin;
        Plivo.onLoginFailed = onLoginFailed;
        Plivo.onCalling = onCalling;
        Plivo.onCallRemoteRinging = onCallRemoteRinging;
        Plivo.onCallAnswered = onCallAnswered;
        Plivo.onCallTerminated = onCallTerminated;
        config = {
        };
        Plivo.init(config);

    });

    </script>

  </head>

  <body>

    <div class="container-narrow">

          <div id="allownotice" class="span3 offset1">
            <p class="triangle-border top"><b>Be sure to click Allow!</b></p>
          </div>
      <div class="masthead">

        <img class="muted" src="./assets/plivo.jpg">
      </div>

      <div class="row-fluid marketing">
        <div class="span12 offset3">
          <br><br><br>
            <form id="callcontainer" style="display: none">
                <a href="#" id="make_call" class="btn main-btn btn-success btn-large" onclick="call();">Conference</a><a>
            
              <br><br><span class="label" id="status_txt">Loading....</span><br>

            </a></form><div id="btn-container" style="display: none"><a>
                </a><a href="#" id="hangup_call" class="btn main-btn btn-danger" onclick="hangup();">Hangup</a>
                <a href="#" id="linkMute" class="badge badge-warning" onclick="mute();">Mute</a>
                <a href="#" id="linkUnmute" class="badge badge-warning" onclick="unmute();" style="display: none">Unmute</a><br>

                <a class="btn btn-info" href="#" onclick="dtmf(&#39;1&#39;);">1</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;2&#39;);">2</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;3&#39;);">3</a><br>

                <a class="btn btn-info" href="#" onclick="dtmf(&#39;4&#39;);">4</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;5&#39;);">5</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;6&#39;);">6</a><br>

                <a class="btn btn-info" href="#" onclick="dtmf(&#39;7&#39;);">7</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;8&#39;);">8</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;9&#39;);">9</a><br>

                <a class="btn btn-info" href="#" onclick="dtmf(&#39;*&#39;);">*</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;0&#39;);">0</a>
                <a class="btn btn-info" href="#" onclick="dtmf(&#39;#&#39;);"> #</a><br>
             </div>

          <audio id="ringbacktone" loop="" src="https://s3.amazonaws.com/plivoweb-sdk/audio/ringbacktone.wav">
          <audio id="incomingring" loop="" src="https://s3.amazonaws.com/plivoweb-sdk/audio/incoming.mp3">

          <audio id="dtmf1" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-1.mp3">
          <audio id="dtmf2" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-2.mp3">
          <audio id="dtmf3" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-3.mp3">
          <audio id="dtmf4" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-4.mp3">
          <audio id="dtmf5" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-5.mp3">
          <audio id="dtmf6" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-6.mp3">
          <audio id="dtmf7" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-7.mp3">
          <audio id="dtmf8" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-8.mp3">
          <audio id="dtmf9" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-9.mp3">
          <audio id="dtmf0" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-0.mp3">
          <audio id="dtmfstar" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-star.mp3">
          <audio id="dtmfpound" src="https://s3.amazonaws.com/plivoweb-sdk/audio/dtmf-pound.mp3">

        </audio></audio></audio></audio></audio></audio></audio></audio></audio></audio></audio></audio></audio></div>

      </div>

      <hr>

      <div class="footer">
        <p><a href="http://www.plivo.com/">www.plivo.com</a>
        </p><div class="offset4">
          <p>Â© Plivo Inc. 2011-2012</p>
        </div>
      </div>

    </div>

  

<embed id="WebRtc4npapi" type="application/w4a" height="1px" width="1px"></body></html>